# Rails SDK Setup Guide

This directory contains the TypeScript SDK for the Rails Banking Infrastructure API, generated using Speakeasy.

## Directory Structure

```
mvp/rails-ts-sdk/
├── src/                    # Source code (auto-generated by Speakeasy)
│   ├── sdk.ts             # Main SDK class
│   ├── types/              # TypeScript type definitions
│   └── index.ts           # Main export file
├── dist/                   # Compiled output (generated)
├── package.json           # NPM package configuration
├── tsconfig.json          # TypeScript configuration
├── .speakeasy.yaml        # Speakeasy configuration
└── README.md              # SDK documentation
```

## Setup Steps

### 1. Install Dependencies

```bash
cd mvp/rails-ts-sdk
npm install
```

### 2. Configure Speakeasy

1. Sign up for a free Speakeasy account at https://www.speakeasyapi.dev
2. Create a new SDK project
3. Connect your OpenAPI spec (located at `poc/api/openapi.yaml`)
4. Configure the SDK settings in `.speakeasy.yaml`

### 3. Generate the SDK

Once Speakeasy is configured, you can generate the SDK:

**Option A: Using Speakeasy CLI**
```bash
# Install Speakeasy CLI
npm install -g @speakeasy-api/cli

# Generate SDK
speakeasy generate sdk --config .speakeasy.yaml
```

**Option B: Using Speakeasy Dashboard**
- Go to your Speakeasy dashboard
- Click "Generate SDK"
- The SDK will be auto-generated and can be downloaded or synced via GitHub

### 4. Build the SDK

```bash
npm run build
```

This will compile TypeScript to JavaScript in the `dist/` directory.

### 5. Test the SDK

```bash
npm test
```

### 6. Publish to npm (when ready)

```bash
npm publish
```

## Updating the SDK

When your OpenAPI spec changes:

1. Update `poc/api/openapi.yaml` with your changes
2. Run Speakeasy generation again
3. Review the generated code
4. Build and test
5. Update version in `package.json`
6. Publish new version

## Development Workflow

1. **Make API changes** in `poc/api/`
2. **Update OpenAPI spec** at `poc/api/openapi.yaml`
3. **Generate SDK** using Speakeasy
4. **Test SDK** locally
5. **Build and publish** when ready

## Notes

- The SDK is auto-generated, so avoid manual edits to generated files
- Custom code should go in separate files that import from the generated SDK
- Always test after regenerating the SDK
- Keep the OpenAPI spec up to date for accurate SDK generation

## Free Tier Limitations

- **1 language only** (TypeScript)
- **Unlimited generations**
- **Auto-publish to GitHub**

If you need additional languages (Python, Go, etc.), you'll need to upgrade to a paid plan ($250/month per language).
